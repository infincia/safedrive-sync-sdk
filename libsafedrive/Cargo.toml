[package]
name = "libsafedrive"
version = "0.3.16"
authors = ["Stephen Oliver <steve@infincia.com>"]
build = "build.rs"
workspace = ".."

[dependencies]
sodiumoxide = "*"
libc = "*"
walkdir = "*"
cdc = "*"
tar = "*"
rustc-serialize = "*"
reqwest = "*"
hyper = { version = "*" , default-features = false }
serde = "^0.9"
serde_json = "^0.9"
serde_derive = "^0.9"
bip39 = "*"
rand = "*"
log = "*"
nom = "*"
lazy_static = "0.1.*"
uuid = { version = "*", features = ["v4"] }
regex = "0.2"
scopeguard = "*"
parking_lot = "*"

[target.'cfg(target_os = "linux")'.dependencies]
openssl = "*"
secret-service = { version = "0.2.0", optional = true }


[target.'cfg(target_os = "macos")'.dependencies]
objc = { version = "*", features = ["exception"] }
objc-foundation = "*"
interfaces = "*"
security-framework = { version = "*", optional = true }


[build-dependencies]
rusty-cheddar = "*"

[lib]
name = "safedrive"
crate-type = ["lib", "staticlib", "cdylib"]
doctest = false

[features]
default = []

keychain = []
mac-keychain = ["security-framework"]
linux-keychain = ["secret-service"]
windows-keychain = []